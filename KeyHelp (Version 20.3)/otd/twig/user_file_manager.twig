{% extends 'base/intern.twig' %}


{% block page_scripts %}
    <script src="/theme/bulma/assets/js/page_file_manager.js?{{ _app.cache_control }}"></script>
{% endblock %}



{% block content %}
    {% import "macros/macros.twig" as macros %}
    {% import "macros/forms.twig" as forms %}

    {# Intro #}
    <p class="has-margin-bottom-large">
        {{ help|raw }}
        {% if _show_ssh_jail_help %}
            <br><br>
            {{ help_ssh_jail|raw }}
        {% endif %}
    </p>

    {# Button line #}
    <div class="level has-margin-bottom-medium">
        <div class="level-left">
        </div>
        <div class="level-right">
            <div class="level-item">
                {{ forms.button({
                    'label': new,
                    'style': 'primary',
                    'modal': 'app-modal-new'
                }) }}
            </div>
            <div class="level-item">
                {{ forms.button({
                    'label': upload,
                    'style': 'primary',
                    'modal': 'app-modal-upload'
                }) }}
            </div>
            <div class="level-item">
                {{ forms.button({
                    'label': copy ~ ' / ' ~ move,
                    'style': 'primary',
                    'class': 'app-modal-copy-move-trigger app-modal-copy-move-multiple'
                }) }}
            </div>
            <div class="level-item">
                {{ forms.button({
                    'label': delete_selected,
                    'style': 'secondary',
                    'modal': 'app-modal-delete-selection',
                }) }}
            </div>
        </div>
    </div>

    {# Path #}
    <div class="card has-margin-bottom-medium">
        <div class="card-content">
            <a href="?page={{ _app.page }}&path=/">
                <span class="icon is-medium">
                    <i class="fas fa-home"></i>
                </span>
            </a>
            <ul class="horizontal-separated-list">
                <li></li>
                {% for item in _breadcrumbs %}
                    <li>
                        {% if loop.last %}
                            {{ item.label }}
                        {% else %}
                            <a href="?page={{ _app.page }}&change_dir={{ item.change_dir|url_encode() }}">
                                {{ item.label }}
                            </a>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    {# Item table #}
    <div class="card">
        <div class="card-content">

            {% if _files is empty %}
                <div class="has-text-centered has-text-grey">
                    - {{ no_items_available }} -
                </div>
            {% else %}
                {% include 'includes/scroll_table_container_buttons.twig' %}
                <form id="form-file-manager" action="?page={{ _app.page }}&action=delete" method="post">
                    <input type="hidden" name="working_dir" value="{{ _working_dir }}">

                    <div class="table-container">
                        <table class="table is-fullwidth is-striped is-hoverable has-valigned-cells">
                            <thead>
                                <tr>
                                    <th {% include 'includes/table_sorting.twig' with { '_column': 'name' } %}>
                                        {{ name }}
                                    </th>
                                    <th class="is-narrow" {% include 'includes/table_sorting.twig' with { '_column': 'size' } %}>
                                        {{ size }}
                                    </th>
                                    <th class="is-narrow" {% include 'includes/table_sorting.twig' with { '_column': 'modified_time' } %}>
                                        {{ modified_time }}
                                    </th>
                                    <th class="is-narrow" {% include 'includes/table_sorting.twig' with { '_column': 'permissions' } %}>
                                        {{ permissions }}
                                    </th>
                                    <th class="is-narrow" {% include 'includes/table_sorting.twig' with { '_column': 'user' } %}>
                                        {{ owner }}
                                    </th>
                                    <th class="is-narrow" {% include 'includes/table_sorting.twig' with { '_column': 'group' } %}>
                                        {{ group }}
                                    </th>
                                    <th class="is-narrow">
                                        {{ options }}
                                    </th>
                                    <th class="is-narrow">
                                        <input class="app-check-all" type="checkbox">
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in _files %}
                                    <tr>
                                        {#
                                            Configuration

                                            ATTENTION: We have this configuration 2 times!
                                                       This one is for triggers inside this row, beside the tippy menu.
                                                       e.g. a click on the file name
                                        #}
                                        <td class="app-configuration" style="display: none">
                                            <input type="text" name="config_path" value="{{ item.path }}">
                                            <input type="text" name="config_id" value="{{ item.name }}">
                                            <input type="text" name="config_permissions" value="{{ item.permissions_numeric }}">
                                        </td>
                                        <td class="has-no-wrap has-padding-left-xsmall">
                                            {% if item.is_dir %}
                                                <a href="?page={{ _app.page }}&change_dir={{ item.change_dir|url_encode() }}">
                                                    {% include 'includes/icon_files.twig' with { _type: item.type } %}
                                                    {{ item.name }}
                                                </a>
                                            {% else %}
                                                {% set _has_link = item.is_editable or item.is_viewable or item.is_archive %}

                                                {% if _has_link %}
                                                    {% if item.is_editable or item.is_viewable %}
                                                        <a href="?page={{ _app.page }}&action={{ item.is_editable ? 'edit' : 'show' }}&working_dir={{ _working_dir|url_encode() }}&id={{ item.name|url_encode() }}&sid={{ _app.sid }}">
                                                    {% elseif item.is_archive %}
                                                        <a class="app-modal-extract-trigger" href="javascript:void(0)">
                                                    {% endif %}
                                                            <span class="has-text-grey-dark">
                                                {% endif %}

                                                {% include 'includes/icon_files.twig' with { _type: item.type } %}

                                                {% if _has_link %}
                                                        </span>
                                                {% endif %}

                                                {{ item.name }}

                                                {% if _has_link %}
                                                    </a>
                                                {% endif %}

                                            {% endif %}
                                        </td>
                                        <td class="has-text-right has-no-wrap">
                                            {{ item.is_dir ? '' : item.size }}
                                        </td>
                                        <td class="has-no-wrap">
                                            {{ item.modified_time }}
                                        </td>
                                        <td class="has-no-wrap">
                                            {{ item.permissions|chunk_split(3, ' ') }}
                                        </td>
                                        <td class="has-no-wrap">
                                            {{ item.user }}
                                        </td>
                                        <td class="has-no-wrap">
                                            {{ item.group }}
                                        </td>
                                        <td class="is-narrow">
                                            {% if not item.is_protected %}
                                                {% set extended_menu %}
                                                    <div class="has-text-left has-no-wrap">
                                                        {#
                                                            Configuration

                                                            ATTENTION: We have this configuration block 2 times!
                                                                       This one is for the tippy, whichs popup will be created outside of this table.
                                                        #}
                                                        <div class="app-configuration" style="display: none">
                                                            <input type="text" name="config_path" value="{{ item.path }}">
                                                            <input type="text" name="config_id" value="{{ item.name }}">
                                                            <input type="text" name="config_permissions" value="{{ item.permissions_numeric }}">
                                                        </div>

                                                        {% if item.is_editable %}
                                                            <p>
                                                                {% include 'includes/icon.twig' with {
                                                                    '_type': 'edit',
                                                                    '_label': edit,
                                                                    '_url': '?page=' ~ _app.page ~ '&action=edit&working_dir=' ~ _working_dir|url_encode() ~ '&id=' ~ item.name|url_encode() ~ '&sid=' ~ _app.sid
                                                                } %}
                                                            </p>
                                                        {% elseif item.is_viewable %}
                                                            <p>
                                                                {% include 'includes/icon.twig' with {
                                                                    '_type': 'show',
                                                                    '_label': show,
                                                                    '_url': '?page=' ~ _app.page ~ '&action=show&working_dir=' ~ _working_dir|url_encode() ~ '&id=' ~ item.name|url_encode() ~ '&sid=' ~ _app.sid
                                                                } %}
                                                            </p>
                                                        {% endif %}

                                                        {% if item.is_file or item.is_dir %}
                                                            <p class="app-modal-rename-trigger">
                                                                {% include 'includes/icon.twig' with {
                                                                    '_type': 'file_rename',
                                                                    '_label': rename,
                                                                    '_url': 'javascript:void(0)'
                                                                } %}
                                                            </p>

                                                            <p class="app-modal-permissions-trigger">
                                                                {% include 'includes/icon.twig' with {
                                                                    '_type': 'file_permissions',
                                                                    '_label': change_permissions,
                                                                    '_url': 'javascript:void(0)'
                                                                } %}
                                                            </p>
                                                        {% endif %}

                                                        {% if not item.is_link %}
                                                            <p>
                                                                <hr class="dropdown-divider">
                                                            </p>
                                                        {% endif %}

                                                        <p class="app-modal-copy-move-trigger app-modal-copy-move-single">
                                                            {% include 'includes/icon.twig' with {
                                                                '_type': 'file_import',
                                                                '_label': copy ~ ' / ' ~ move,
                                                                '_url': 'javascript:void(0)'
                                                            } %}
                                                        </p>

                                                        {% if item.is_archive %}
                                                            <p>
                                                                <hr class="dropdown-divider">
                                                            </p>
                                                            <p class="app-modal-extract-trigger">
                                                                {% include 'includes/icon.twig' with {
                                                                    '_type': 'extract',
                                                                    '_label': extract_archive,
                                                                    '_url': 'javascript:void(0)'
                                                                } %}
                                                            </p>
                                                        {% endif %}


                                                        {% if item.is_file or item.is_dir %}
                                                            <p>
                                                                <hr class="dropdown-divider">
                                                            </p>
                                                            {% if item.is_file %}
                                                                <p>
                                                                {% include 'includes/icon.twig' with {
                                                                    '_type': 'download',
                                                                    '_label': download,
                                                                    '_url': '?page=' ~ _app.page ~ '&action=download&working_dir=' ~ _working_dir|url_encode() ~ '&id=' ~ item.name|url_encode() ~ '&sid=' ~ _app.sid
                                                                } %}
                                                                </p>
                                                            {% elseif item.is_dir %}
                                                                <p>
                                                                    {% include 'includes/icon.twig' with {
                                                                       '_type': 'download',
                                                                       '_label': download_as_zip,
                                                                       '_url': '?page=' ~ _app.page ~ '&action=download&archive_type=zip&working_dir=' ~ _working_dir|url_encode() ~ '&id=' ~ item.name|url_encode() ~ '&sid=' ~ _app.sid
                                                                    } %}
                                                                </p>
                                                                <p>
                                                                    {% include 'includes/icon.twig' with {
                                                                        '_type': 'download',
                                                                        '_label': download_as_targz,
                                                                        '_url': '?page=' ~ _app.page ~ '&action=download&archive_type=targz&working_dir=' ~ _working_dir|url_encode() ~ '&id=' ~ item.name|url_encode() ~ '&sid=' ~ _app.sid
                                                                    } %}
                                                                </p>
                                                            {% endif %}
                                                        {% endif %}

                                                        {% if not item.is_link %}
                                                            <p>
                                                                <hr class="dropdown-divider">
                                                            </p>
                                                        {% endif %}

                                                        <p class="app-modal-delete-trigger">
                                                            {% include 'includes/icon.twig' with {
                                                                '_type': 'delete',
                                                                '_label': delete,
                                                                '_url': 'javascript:void(0)'
                                                            } %}
                                                        </p>
                                                    </div>
                                                {% endset %}

                                                <button class="app-extended-menu button is-small has-text-link" type="button" data-tippy-content="{{ extended_menu|escape('html') }}">
                                                    <span class="icon is-small">
                                                        <i class="fas fa-bars"></i>
                                                    </span>
                                                    <span class="icon is-small">
                                                         <i class="fas fa-chevron-down fa-xs"></i>
                                                    </span>
                                                </button>

                                            {% endif %}
                                        </td>
                                        <td>
                                            {% if not item.is_protected %}
                                                <label>
                                                    <input type="checkbox" name="ids[]" value="{{ item.name }}">
                                                </label>
                                            {% endif %}
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="42" class="has-text-grey-light">
                                        {{ _files|length }} {{ items_total }}
                                    </td>
                                </tr>
                            </tfoot>
                        </table>

                    </div>
                </form>

            {% endif %}
        </div>
    </div>

    {# Modal | New ================================================================================================== #}
    <form action="?page={{ _app.page }}&action=new" method="post">
        <input type="hidden" name="working_dir" value="{{ _working_dir }}">

        <div id="app-modal-new" class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">{{ new }}</p>
                    <button class="delete app-modal-close" type="button"></button>
                </header>
                <div class="modal-card-body">
                    <div class="has-text-centered">
                        <p>{{ current_path }}</p>
                        <p class="has-text-weight-bold has-margin-top-xsmall has-margin-bottom-medium">{{ _working_dir }}</p>
                    </div>

                    {{ forms.radio_wrapped({
                        'label': please_select,
                        'is_required': true,
                        'options': [
                            {
                                'label': empty_file,
                                'name': 'type',
                                'value': 'file',
                                'is_checked': true,
                            },
                            {
                                'label': directory,
                                'name': 'type',
                                'value': 'directory',
                            },
                        ]
                    }) }}

                    {{ forms.input_wrapped({
                        'label': name,
                        'name': 'name',
                        'type': 'text',
                        'is_required': true,
                    }) }}
                </div>
                <footer class="modal-card-foot">
                    {{ forms.button({'label': create, 'style': 'primary' }) }}
                    {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
                </footer>
            </div>
        </div>
    </form>

    {# Modal | Upload =============================================================================================== #}
    <form action="?page={{ _app.page }}&action=upload" method="post" enctype="multipart/form-data">
        <input type="hidden" name="working_dir" value="{{ _working_dir }}">

        <div id="app-modal-upload" class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">{{ upload }}</p>
                    <button class="delete app-modal-close" type="button"></button>
                </header>
                <div class="modal-card-body">
                    <div class="has-text-centered">
                        <p>{{ current_path }}</p>
                        <p class="app-current-path has-text-weight-bold has-margin-top-xsmall has-margin-bottom-medium">{{ _working_dir }}</p>
                    </div>

                    <div class="columns is-centered">
                        <div class="column is-narrow">
                            {% for i in 0..3 %}
                                {{ forms.upload_wrapped({
                                    'name': 'file_' ~ i,
                                    'button_label': choose_file
                                }) }}
                            {% endfor %}
                        </div>
                    </div>

                    <p class="has-text-grey has-text-centered">
                        {{ max_file_size }}: {{ _upload_max_filesize }} / {{ total }}: {{ _post_max_size }}
                    </p>
                </div>
                <footer class="modal-card-foot">
                    {{ forms.button({'label': upload, 'style': 'primary' }) }}
                    {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
                </footer>
            </div>
        </div>
    </form>

    {# Modal | Delete =============================================================================================== #}
    <div id="app-modal-delete-selection" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">{{ delete_selected }}</p>
                <button class="delete app-modal-close" type="button"></button>
            </header>
            <div class="modal-card-body">
                <p class="has-text-centered">
                    {{ are_you_sure_delete_selection }}
                </p>
            </div>
            <footer class="modal-card-foot">
                {{ forms.button({'label': yes, 'style': 'primary', 'data': { 'submit-form': 'form-file-manager' } }) }}
                {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
            </footer>
        </div>
    </div>

    <form action="?page={{ _app.page }}&action=delete" method="post">
        <div id="app-modal-delete-single" class="modal">
            <input type="hidden" name="id" value="___unset___">
            <input type="hidden" name="working_dir" value="{{ _working_dir }}">

            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">{{ delete_item }}</p>
                    <button class="delete app-modal-close" type="button"></button>
                </header>
                <div class="modal-card-body">
                    <div class="has-text-centered">
                        <p>{{ current_path }}</p>
                        <p class="app-current-path has-text-weight-bold has-margin-top-xsmall has-margin-bottom-medium"></p>
                        <p>{{ are_you_sure_delete_single }}</p>
                    </div>
                </div>
                <footer class="modal-card-foot">
                    {{ forms.button({'label': yes, 'style': 'primary' }) }}
                    {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
                </footer>
            </div>
        </div>
    </form>

    {# Modal | Rename =============================================================================================== #}
    <form action="?page={{ _app.page }}&action=rename" method="post">
        <input type="hidden" name="id" value="___unset___">
        <input type="hidden" name="working_dir" value="{{ _working_dir }}">

        <div id="app-modal-rename" class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">{{ rename_item }}</p>
                    <button class="delete app-modal-close" type="button"></button>
                </header>
                <div class="modal-card-body">
                    <div class="has-text-centered">
                        <p>{{ current_path }}</p>
                        <p class="app-current-path has-text-weight-bold has-margin-top-xsmall has-margin-bottom-medium"></p>
                    </div>

                    {{ forms.input_wrapped({
                        'label': new_name,
                        'name': 'name',
                        'type': 'text',
                        'is_required': true,
                    }) }}
                </div>
                <footer class="modal-card-foot">
                    {{ forms.button({'label': save, 'style': 'primary' }) }}
                    {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
                </footer>
            </div>
        </div>
    </form>

    {# Modal | Permissions ========================================================================================== #}
    <form action="?page={{ _app.page }}&action=permissions" method="post">
        <input type="hidden" name="id" value="___unset___">
        <input type="hidden" name="working_dir" value="{{ _working_dir }}">

        <div id="app-modal-permissions" class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">{{ file_permissions }}</p>
                    <button class="delete app-modal-close" type="button"></button>
                </header>
                <div class="modal-card-body">
                    <div class="has-text-centered">
                        <p>{{ current_path }}</p>
                        <p class="app-current-path has-text-weight-bold has-margin-top-xsmall has-margin-bottom-medium"></p>
                    </div>

                    <div class="table-container">
                        <table id="app-permissions-configurator" class="table is-centered is-striped is-hoverable has-valigned-cells">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>{{ owner }}</th>
                                    <th>{{ group }}</th>
                                    <th>{{ others }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>{{ read }}</th>
                                    <td>
                                        <input type="checkbox" name="owner_read">
                                    </td>
                                    <td>
                                        <input type="checkbox" name="group_read">
                                    </td>
                                    <td>
                                        <input type="checkbox" name="others_read">
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ write }}</th>
                                    <td>
                                        <input type="checkbox" name="owner_write">
                                    </td>
                                    <td>
                                        <input type="checkbox" name="group_write">
                                    </td>
                                    <td>
                                        <input type="checkbox" name="others_write">
                                    </td>
                                </tr>
                                <tr>
                                    <th>{{ execute }}</th>
                                    <td>
                                        <input type="checkbox" name="owner_execute">
                                    </td>
                                    <td>
                                        <input type="checkbox" name="group_execute">
                                    </td>
                                    <td>
                                        <input type="checkbox" name="others_execute">
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th>{{ numeric_value }}</th>
                                    <td>
                                        {{ forms.input_wrapped({
                                            'name': 'owner',
                                            'type': 'number',
                                            'min' : 0,
                                            'max' : 7,
                                            'is_required': true,
                                        }) }}
                                    </td>
                                    <td>
                                        {{ forms.input_wrapped({
                                            'name': 'group',
                                            'type': 'number',
                                            'min' : 0,
                                            'max' : 7,
                                            'is_required': true,
                                        }) }}
                                    </td>
                                    <td>
                                        {{ forms.input_wrapped({
                                            'name': 'others',
                                            'type': 'number',
                                            'min' : 0,
                                            'max' : 7,
                                            'is_required': true,
                                        }) }}
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
                <footer class="modal-card-foot">
                    {{ forms.button({'label': save, 'style': 'primary' }) }}
                    {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
                </footer>
            </div>
        </div>
    </form>

    {# Modal | Extract ============================================================================================== #}
    <form action="?page={{ _app.page }}&action=extract" method="post">
        <input type="hidden" name="id" value="___unset___">
        <input type="hidden" name="working_dir" value="{{ _working_dir }}">

        <div id="app-modal-extract" class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">{{ extract_archive }}</p>
                    <button class="delete app-modal-close" type="button"></button>
                </header>
                <div class="modal-card-body">
                    <div class="has-text-centered">
                        <p>{{ current_path }}</p>
                        <p class="app-current-path has-text-weight-bold has-margin-top-xsmall has-margin-bottom-medium"></p>
                    </div>

                    {{ forms.checkbox_wrapped({
                        'label': replace_existing_files,
                        'options': {
                            'label': yes,
                            'name': 'is_overwrite',
                            'value': '1',
                            'is_checked': false
                        }
                    }) }}
                </div>
                <footer class="modal-card-foot">
                    {{ forms.button({'label': extract, 'style': 'primary' }) }}
                    {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
                </footer>
            </div>
        </div>
    </form>

    {# Modal | Copy / Move ========================================================================================== #}
    <form action="?page={{ _app.page }}&action=copy_move" method="post">
        <input type="hidden" name="id" value="___unset___">
        <input type="hidden" name="working_dir" value="{{ _working_dir }}">

        <div class="is-hidden app-modal-selected-files">
            <!--
                Content like the one below gets added via Javascript:
                <input type="hidden" name="ids[]" value="< item.name >">
            -->
        </div>

        <div id="app-modal-copy-move" class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">{{ copy }} / {{ move }}</p>
                    <button class="delete app-modal-close" type="button"></button>
                </header>
                <div class="modal-card-body">
                    <div class="app-modal-copy-move-files-count">
                        {{ forms.label_wrapped({
                            'label': selected_items,
                            'value': '<!-- added via js -->'
                        }) }}
                    </div>

                    {{ forms.radio_wrapped({
                        'label': file_operation,
                        'options': [{
                            'label': copy,
                            'name': 'file_operation',
                            'value': 'copy',
                            'is_checked': true
                        },
                        {
                            'label': move,
                            'name': 'file_operation',
                            'value': 'move',
                            'is_checked': false
                        }]
                    }) }}

                    {% include 'includes/form_browse_directory.twig' with {
                        '_label': destination_directory,
                        '_help': destination_directory_help,
                        '_value': '/www/',
                        '_purpose': 'file_manager'
                    }%}

                    {{ forms.checkbox_wrapped({
                        'label': replace_existing_files,
                        'options': {
                            'label': yes,
                            'name': 'replace_existing_files',
                            'value': '1',
                            'is_checked': false
                        }
                    }) }}
                </div>
                <footer class="modal-card-foot">
                    {{ forms.button({'label': okay, 'style': 'primary' }) }}
                    {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
                </footer>
            </div>
        </div>
    </form>

    <div id="app-modal-copy-move-empty" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">{{ copy }} / {{ move }}</p>
                <button class="delete app-modal-close" type="button"></button>
            </header>
            <div class="modal-card-body">
                <p class="has-text-centered">
                    {{ select_files_first }}
                </p>
            </div>
            <footer class="modal-card-foot">
                {{ forms.button({'label': cancel, 'class': 'app-modal-close', 'type': 'button' }) }}
            </footer>
        </div>
    </div>

{% endblock %}